# CCXTDataFeeds æµ‹è¯•è¯´æ˜

## å¿«é€Ÿå¼€å§‹

### æ–¹æ³• 1: ä½¿ç”¨ npm è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd /Users/luosen/Documents/GitHub/klinecharts-pro
npm run test:ccxt
```

### æ–¹æ³• 2: ç›´æ¥ä½¿ç”¨ tsx

```bash
cd /Users/luosen/Documents/GitHub/klinecharts-pro
npx tsx test-ccxt-datafeeds.ts
```

### æ–¹æ³• 3: ä½¿ç”¨ Node.jsï¼ˆéœ€è¦å…ˆç¼–è¯‘ï¼‰

```bash
cd /Users/luosen/Documents/GitHub/klinecharts-pro
npx tsc test-ccxt-datafeeds.ts --module esnext --moduleResolution node --target es2020
node test-ccxt-datafeeds.js
```

## æµ‹è¯•å†…å®¹

æµ‹è¯•è„šæœ¬ä¼šæ‰§è¡Œä»¥ä¸‹æµ‹è¯•ï¼š

1. **æœç´¢æ ‡çš„** - æµ‹è¯• `searchSymbols('BTC')` æ–¹æ³•
2. **è·å–å†å²æ•°æ®** - æµ‹è¯• `getHistoryKLineData()` æ–¹æ³•ï¼Œè·å–æœ€è¿‘ 7 å¤©çš„ 15 åˆ†é’Ÿ K çº¿
3. **è®¢é˜…å®æ—¶æ•°æ®** - æµ‹è¯• `subscribe()` æ–¹æ³•ï¼Œç›‘å¬ 10 ç§’çš„å®æ—¶æ•°æ®
4. **æµ‹è¯•å¤šä¸ªäº¤æ˜“æ‰€** - æµ‹è¯• OKXã€Binanceã€Coinbase ä¸‰ä¸ªäº¤æ˜“æ‰€

## é¢„æœŸè¾“å‡º

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

```
ğŸš€ å¼€å§‹æµ‹è¯• CCXTDataFeeds
==================================================

=== æµ‹è¯• 1: æœç´¢æ ‡çš„ ===
æœç´¢ "BTC"...
æ‰¾åˆ° X ä¸ªåŒ¹é…çš„æ ‡çš„
å‰ 5 ä¸ªç»“æœ:
  1. BTC/USDT - BTC/USDT (OKX)
  ...

=== æµ‹è¯• 2: è·å–å†å²æ•°æ® ===
è·å– BTC/USDT çš„å†å²æ•°æ®:
  å‘¨æœŸ: 15 åˆ†é’Ÿ
  æ—¶é—´èŒƒå›´: ...
âœ… æˆåŠŸè·å– X æ ¹ K çº¿

=== æµ‹è¯• 3: è®¢é˜…å®æ—¶æ•°æ® ===
è®¢é˜… BTC/USDT çš„å®æ—¶æ•°æ® (15åˆ†é’Ÿ)...
ç­‰å¾… 10 ç§’æ¥æ”¶æ•°æ®...
ğŸ“Š æ”¶åˆ°ç¬¬ 1 æ ¹å®æ—¶ K çº¿:
  ...

âœ… æ‰€æœ‰æµ‹è¯•å®Œæˆï¼
```

## æ•…éšœæ’é™¤

### å¦‚æœé‡åˆ° "Cannot find module 'ccxt'" é”™è¯¯

ç¡®ä¿å·²å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

### å¦‚æœé‡åˆ° TypeScript é”™è¯¯

æ£€æŸ¥ `tsconfig.json` é…ç½®ï¼Œç¡®ä¿æ”¯æŒ ES modulesã€‚

### å¦‚æœæµ‹è¯•å¾ˆæ…¢æˆ–è¶…æ—¶

è¿™æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºï¼š
- é¦–æ¬¡åŠ è½½å¸‚åœºæ•°æ®éœ€è¦ä¸€äº›æ—¶é—´
- å®æ—¶æ•°æ®è®¢é˜…éœ€è¦ç­‰å¾…å®é™…æ•°æ®æ›´æ–°

### å¦‚æœæŸä¸ªäº¤æ˜“æ‰€æµ‹è¯•å¤±è´¥

æŸäº›äº¤æ˜“æ‰€å¯èƒ½éœ€è¦ï¼š
- ç‰¹æ®Šé…ç½®
- API keyï¼ˆè™½ç„¶å…¬å…±æ•°æ®ä¸éœ€è¦ï¼‰
- ç½‘ç»œä»£ç†ï¼ˆå¦‚æœåœ¨ä¸­å›½å¤§é™†ï¼‰

## å•ç‹¬æµ‹è¯•æŸä¸ªåŠŸèƒ½

ä½ å¯ä»¥ä¿®æ”¹ `test-ccxt-datafeeds.ts`ï¼Œåªè¿è¡Œç‰¹å®šçš„æµ‹è¯•å‡½æ•°ï¼š

```typescript
// åªæµ‹è¯•æœç´¢
testSearchSymbols().then(symbol => {
  console.log('æœç´¢å®Œæˆï¼Œæ‰¾åˆ°æ ‡çš„:', symbol)
})

// åªæµ‹è¯•å†å²æ•°æ®
const symbol = { ticker: 'BTC/USDT', ... }
testGetHistoryData(symbol)

// åªæµ‹è¯•è®¢é˜…
testSubscribe(symbol)
```

